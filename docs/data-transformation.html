<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data Transformation | COVID19 Analysis</title>
  <meta name="description" content="Chapter 3 Data Transformation | COVID19 Analysis" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data Transformation | COVID19 Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data Transformation | COVID19 Analysis" />
  
  
  

<meta name="author" content="Jingyuan Wang, Huaqing Fang" />


<meta name="date" content="2021-04-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COVID Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#belief-1-and-2"><i class="fa fa-check"></i><b>2.1</b> Belief 1 and 2</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#belief-3"><i class="fa fa-check"></i><b>2.2</b> Belief 3</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data Transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#belief-1-and-2-1"><i class="fa fa-check"></i><b>3.1</b> Belief 1 and 2</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-transformation.html"><a href="data-transformation.html#in-terms-of-the-raw-data-for-analyzing-death-counts"><i class="fa fa-check"></i><b>3.1.1</b> In terms of the raw data for analyzing death counts</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#belief-3-1"><i class="fa fa-check"></i><b>3.2</b> Belief 3</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation.html"><a href="data-transformation.html#in-terms-of-the-raw-data-for-analyzing-state"><i class="fa fa-check"></i><b>3.2.1</b> In terms of the raw data for analyzing state</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation.html"><a href="data-transformation.html#in-terms-of-the-raw-data-for-analyzing-race"><i class="fa fa-check"></i><b>3.2.2</b> In terms of the raw data for analyzing race</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#belief-1-and-2-2"><i class="fa fa-check"></i><b>4.1</b> Belief 1 and 2</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#belief-3-2"><i class="fa fa-check"></i><b>4.2</b> Belief 3</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#belief-1-and-2-3"><i class="fa fa-check"></i><b>5.1</b> Belief 1 and 2</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#time-series-analysis"><i class="fa fa-check"></i><b>5.1.1</b> Time Series Analysis</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#comparison-and-analysis"><i class="fa fa-check"></i><b>5.1.2</b> Comparison and Analysis</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#belief-3-3"><i class="fa fa-check"></i><b>5.2</b> Belief 3</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#country"><i class="fa fa-check"></i><b>5.2.1</b> Country</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#state"><i class="fa fa-check"></i><b>5.2.2</b> State</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COVID19 Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data Transformation</h1>
<div id="belief-1-and-2-1" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Belief 1 and 2</h2>
<div id="in-terms-of-the-raw-data-for-analyzing-death-counts" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> In terms of the raw data for analyzing death counts</h3>
<ol style="list-style-type: decimal">
<li><p>"AH_Monthly_provisional_counts_of_deaths_by_age_group__sex__and_race_ethnicity_for_select_causes_of_death.csv" dataset has a lot of irrelevant information, we extract “AllCause”, “Month”, “Year” columns for plotting and “sex”, “AgeGroup”, “Race” for data cleaning. We perform similar things to "Monthly_Counts_of_Deaths_by_Select_Causes__2014-2019.csv" dataset</p></li>
<li><p>Month and Year are given separately, in order to give a plot where date is the x-axis, we need to merge these two columns and convert data into date format.</p></li>
<li><p>Time series models give predicted data as time series objects. We convert that into normal data frame for plotting.</p></li>
<li><p>In order to plot predicted data and actual data as a continuous graph, we merge these 2 datasets/data frame.</p></li>
<li><p>We have two data sets, one records data from 2014 to 2019, the other records data from 2019 to 2020. In order to make a continuous graph, we merge these two datasets/data frames.</p></li>
</ol>
</div>
</div>
<div id="belief-3-1" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Belief 3</h2>
<div id="in-terms-of-the-raw-data-for-analyzing-state" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> In terms of the raw data for analyzing state</h3>
<ol style="list-style-type: decimal">
<li>Aggregate data: we concatenated the daily reports files for US daily data. In the end, the whole data sets contains US daily data from 2020-04-12 to 2021-04-03 in US.</li>
<li>Edit column variables: we only kept the columns ‘Province_State’, ‘Country_Region’, ‘Lat’,‘Long_’,‘date’ and renamed them as ‘State’, ‘Country’, ‘Latitude’, ‘Longitude’, ‘Date’ since only these columns are of our interest. We dropped the extra 12 columns.</li>
<li>Format data: format date into this format “%m-%d-%Y”.</li>
</ol>
</div>
<div id="in-terms-of-the-raw-data-for-analyzing-race" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> In terms of the raw data for analyzing race</h3>
<ol style="list-style-type: decimal">
<li>Extract data: the raw data population dataset containing population estimates in each state for all 2010 to 2020 but we only need the most recent population estimates so we extract the data we need.</li>
<li>Merge dataset: we added a column to provide names for state abbreviations in race data so that race dataset and population dataset can be merged into one dataset by state name.</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/https://github.com/asu-233/COVID/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/https://github.com/asu-233/COVID/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
